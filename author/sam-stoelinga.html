<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Sam Stoelinga (Samos IT) - Blog - Sam Stoelinga</title>
        <link rel="stylesheet" href="http://samos-it.com/theme/css/main.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
<a href="http://github.com/samos123/">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href="http://samos-it.com/">Sam Stoelinga (Samos IT) - Blog </a></h1>
                <nav><ul>
                    <li><a href="http://samos-it.com/category/algorithms.html">Algorithms</a></li>
                    <li><a href="http://samos-it.com/category/china.html">China</a></li>
                    <li><a href="http://samos-it.com/category/linux.html">Linux</a></li>
                    <li><a href="http://samos-it.com/category/python.html">Python</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="http://samos-it.com/posts/docker-multi-website-single-ip-host-haproxy.html">Docker Multiple websites/domains on single ip/host tutorial using a HAproxy as reverse proxy</a></h1>
<footer class="post-info">
        <abbr class="published" title="2014-07-07T10:15:00">
                Published: Mon 07 July 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://samos-it.com/author/sam-stoelinga.html">Sam Stoelinga</a>
        </address>
<p>In <a href="http://samos-it.com/category/linux.html">Linux</a>. </p>
<p>tags: <a href="http://samos-it.com/tag/linux.html">linux</a> <a href="http://samos-it.com/tag/docker.html">docker</a> <a href="http://samos-it.com/tag/container.html">container</a> </p>
</footer><!-- /.post-info --><p>This post will describe how to expose multiple docker containers
running websites on port 80 using HAproxy as a reverse proxy.
This makes it possible to run multiple websites on different domains
on a single public ip of the host.</p>
<p>The basic setup is to create 1 container for haproxy which is exposed to
the host on port 80. This HAproxy container will forward the incoming
HTTP request to the correct container based on the domain name.</p>
<p><img alt="Reverse haproxy docker diagram" src="/images/haproxy_reverse_proxy_docker.png" /><br/>
Picture drawn with <a href="http://draw.io" target="_blank">draw.io</a>.</p>
<p>First launch the containers which run different websites. In our example
we will use a
<a href="https://registry.hub.docker.com/u/tutum/hello-world/"
   target="_blank">hello-world php demo container</a>
and a 
<a href="https://registry.hub.docker.com/u/tutum/wordpress/"
   target="_blank">wordpress site container</a>.</p>
<div class="highlight"><pre><span class="gp">$</span> <span class="c"># Run hello world php demo container (test1.domain.com)</span>
<span class="gp">$</span> docker run -d tutum/hello-world
<span class="go">01ec10276761</span>
<span class="gp">$</span> docker inspect -f <span class="s2">&quot;{{.NetworkSettings.IPAddress}}&quot;</span> 01ec10276761
<span class="go">172.17.0.26</span>

<span class="gp">$</span> <span class="c"># Run wordpress container (test2.domain.com)</span>
<span class="gp">$</span> docker run -d tutum/wordpress
<span class="go">4d23f10f6b35</span>
<span class="gp">$</span> docker inspect -f <span class="s2">&quot;{{.NetworkSettings.IPAddress}}&quot;</span> 4d23f10f6b35
<span class="go">172.17.0.25</span>
</pre></div>


<p>Now we need to create our haproxy configuration to configure HAproxy as
reverse proxy for our docker containers. Because HAProxy is also running
inside a container we need to be able to access the hello-world and
wordpress container by their private ip accessible from all containers.
We got this IP using the command: <code>docker inspect -f "{{.NetworkSettings.IPAddress}}" $CONTAINERID</code>.
Make sure to note down these IPs as they will be used in the haproxy.cfg file.</p>
<div class="highlight"><pre><span class="gp">$</span> <span class="c"># On the host(not container) create directory containing our haproxy config file</span>
<span class="gp">$</span> mkdir ~/haproxy-config

<span class="gp">$</span> <span class="c"># Create ~/haproxy-config/haproxy.cfg</span>
<span class="gp">$</span> vim ~/haproxy-config/haproxy.cfg
<span class="go">global</span>
<span class="go">        log 127.0.0.1   local0</span>
<span class="go">        log 127.0.0.1   local1 notice</span>
<span class="go">        user haproxy</span>
<span class="go">        group haproxy</span>
<span class="go">        # daemon</span>

<span class="go">defaults</span>
<span class="go">        log     global</span>
<span class="go">        mode    http</span>
<span class="go">        option  httplog</span>
<span class="go">        option  dontlognull</span>
<span class="go">        option forwardfor</span>
<span class="go">        option http-server-close</span>
<span class="go">        contimeout 5000</span>
<span class="go">        clitimeout 50000</span>
<span class="go">        srvtimeout 50000</span>
<span class="go">        errorfile 400 /etc/haproxy/errors/400.http</span>
<span class="go">        errorfile 403 /etc/haproxy/errors/403.http</span>
<span class="go">        errorfile 408 /etc/haproxy/errors/408.http</span>
<span class="go">        errorfile 500 /etc/haproxy/errors/500.http</span>
<span class="go">        errorfile 502 /etc/haproxy/errors/502.http</span>
<span class="go">        errorfile 503 /etc/haproxy/errors/503.http</span>
<span class="go">        errorfile 504 /etc/haproxy/errors/504.http</span>
<span class="go">        stats enable</span>
<span class="go">        stats auth username:password</span>
<span class="go">        stats uri /haproxyStats</span>

<span class="go">frontend http-in</span>
<span class="go">        bind *:80</span>

<span class="go">        # Define hosts based on domain names</span>
<span class="go">        acl host_test1 hdr(host) -i test1.domain.com</span>
<span class="go">        acl host_test2 hdr(host) -i test2.domain.com</span>

<span class="go">        ## figure out backend to use based on domainname</span>
<span class="go">        use_backend test1 if host_test1</span>
<span class="go">        use_backend test2 if host_test2</span>


<span class="go">backend test1 # test1.domain.com container</span>
<span class="go">    balance roundrobin</span>
<span class="go">    option httpclose</span>
<span class="go">    option forwardfor</span>
<span class="go">    server s2 172.17.0.26:80 # This ip should be the ip of hello-world container</span>

<span class="go">backend test2 # test2.domain.com container</span>
<span class="go">    balance roundrobin</span>
<span class="go">    option httpclose</span>
<span class="go">    option forwardfor</span>
<span class="go">    server s1 172.17.0.26:80 # This ip should be ip of wordpress container</span>

<span class="gp">$</span> <span class="c"># Run haproxy and map the host directory ~/haproxy-config to /haproxy-override of the container</span>
<span class="gp">$</span> <span class="c"># See the image README and Dockerfile for info about this override behaviour.</span>
<span class="gp">$</span> <span class="c"># HAProxy is exposed on port 80 because all requests to the public ip should</span>
<span class="gp">$</span> <span class="c"># go to the HAProxy container.</span>
<span class="gp">$</span> docker run -d -p 80:80 -v ~/haproxy-config:/haproxy-override dockerfile/haproxy
</pre></div>


<p>The HAProxy configuration could be automated possibly with the use of etcd to store
information about services or use a similar method to
<a href="http://jasonwilder.com/blog/2014/03/25/automated-nginx-reverse-proxy-for-docker/"
   target="_blank">Automated nginx reverse proxy for docker</a>. The automated nginx reverse
proxy didn't work for me though.</p>
<p>Thanks to
<a href="http://oskarhane.com/haproxy-as-a-static-reverse-proxy-for-docker-containers/"
   target="_blank">HAProxy as static reverse proxy for docker containers</a> for the
haproxy config file. Although I think it's better to run HAproxy in a container.</p><p>There are <a href="http://samos-it.com/posts/docker-multi-website-single-ip-host-haproxy.html#disqus_thread">comments</a>.</p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="http://samos-it.com/posts/move-first-word-to-end-of-line-linux-awk.html" rel="bookmark"
                           title="Permalink to Move first word to end of line (Linux/awk)">Move first word to end of line (Linux/awk)</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-06-08T20:29:00">
                Published: Sun 08 June 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://samos-it.com/author/sam-stoelinga.html">Sam Stoelinga</a>
        </address>
<p>In <a href="http://samos-it.com/category/linux.html">Linux</a>. </p>

</footer><!-- /.post-info -->                <p>Move the first word of a line to the end of line on Linux using AWK.
We first store the first column(first word) in the variable t. Then
we set the first column to be empty. At last we add a new column
after the last column of the ...</p>
                <a class="readmore" href="http://samos-it.com/posts/move-first-word-to-end-of-line-linux-awk.html">read more</a>
<p>There are <a href="http://samos-it.com/posts/move-first-word-to-end-of-line-linux-awk.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://samos-it.com/posts/ssh-to-server-behind-firewall-via-ssh-tunnel.html" rel="bookmark"
                           title="Permalink to SSH to server behind a firewall via an SSH tunnel">SSH to server behind a firewall via an SSH tunnel</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-05-10T00:00:00">
                Published: Sat 10 May 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://samos-it.com/author/sam-stoelinga.html">Sam Stoelinga</a>
        </address>
<p>In <a href="http://samos-it.com/category/linux.html">Linux</a>. </p>
<p>tags: <a href="http://samos-it.com/tag/linux.html">linux</a> <a href="http://samos-it.com/tag/ssh.html">ssh</a> <a href="http://samos-it.com/tag/firewall.html">firewall</a> <a href="http://samos-it.com/tag/tunnel.html">tunnel</a> </p>
</footer><!-- /.post-info -->                <p>A server behind a firewall was unaccesible from my home,
but another server which is on the same local network had
public SSH access from my home. So we can create an SSH tunnel
via this public server to the server behind a firewall.</p>
<p>For example the public ssh server ...</p>
                <a class="readmore" href="http://samos-it.com/posts/ssh-to-server-behind-firewall-via-ssh-tunnel.html">read more</a>
<p>There are <a href="http://samos-it.com/posts/ssh-to-server-behind-firewall-via-ssh-tunnel.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://samos-it.com/posts/recursive-karatsuba-multiplication-python.html" rel="bookmark"
                           title="Permalink to Recursive karatsuba multiplication in Python">Recursive karatsuba multiplication in Python</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-05-04T00:00:00">
                Published: Sun 04 May 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://samos-it.com/author/sam-stoelinga.html">Sam Stoelinga</a>
        </address>
<p>In <a href="http://samos-it.com/category/algorithms.html">Algorithms</a>. </p>
<p>tags: <a href="http://samos-it.com/tag/coding.html">coding</a> <a href="http://samos-it.com/tag/programming.html">programming</a> <a href="http://samos-it.com/tag/python.html">python</a> <a href="http://samos-it.com/tag/algorithms.html">algorithms</a> </p>
</footer><!-- /.post-info -->                <p>I'm currently taking the class Algorithm: Design and Analysis of Stanford via Coursera and
in the class the Karatsuba algorithm got mentioned. I went ahead and implemented it based
on the lecture slides.</p>
<p>The Karatsuba algorithm is a fast multiplication algorithm. It's special because
it was the first ...</p>
                <a class="readmore" href="http://samos-it.com/posts/recursive-karatsuba-multiplication-python.html">read more</a>
<p>There are <a href="http://samos-it.com/posts/recursive-karatsuba-multiplication-python.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://samos-it.com/posts/using-nested-tmux-over-ssh-and-how-to-detach-a-nested-tmux.html" rel="bookmark"
                           title="Permalink to Using nested tmux over ssh and how to detach a nested tmux">Using nested tmux over ssh and how to detach a nested tmux</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-08-15T02:08:00">
                Published: Thu 15 August 2013
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://samos-it.com/author/sam-stoelinga.html">Sam Stoelinga</a>
        </address>
<p>In <a href="http://samos-it.com/category/linux.html">Linux</a>. </p>

</footer><!-- /.post-info -->                <p>Today I logged in to my laptop at home from work which was already
running a tmux session, so thought yea just attach cool can continue
with what I was looking at at home. I forgot that the keys would be the
same ofcourse, and was unable to use the ...</p>
                <a class="readmore" href="http://samos-it.com/posts/using-nested-tmux-over-ssh-and-how-to-detach-a-nested-tmux.html">read more</a>
<p>There are <a href="http://samos-it.com/posts/using-nested-tmux-over-ssh-and-how-to-detach-a-nested-tmux.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://samos-it.com/posts/removedetach-a-pci-device-linux-kvm-vga-passthrgough-nvidia-quadro-2000.html" rel="bookmark"
                           title="Permalink to Remove/detach a PCI device linux (kvm VGA passthrgough Nvidia Quadro 2000)">Remove/detach a PCI device linux (kvm VGA passthrgough Nvidia Quadro 2000)</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-06-09T08:55:00">
                Published: Sun 09 June 2013
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://samos-it.com/author/sam-stoelinga.html">Sam Stoelinga</a>
        </address>
<p>In <a href="http://samos-it.com/category/linux.html">Linux</a>. </p>

</footer><!-- /.post-info -->                <p><strong>Answer:</strong>  </p>
<div class="highlight"><pre><span class="nb">echo</span> -n <span class="s2">&quot;1&quot;</span> &gt; /sys/bus/pci/devices/0000:02:00.0/remove
</pre></div>


<p>Where 0000:02:00.0 is related to your pci device address which can
be obtained from the command <code>lspci</code></p>
<p><strong>Related story:</strong><br />
Was working on KVM vga passthrough and encountered problems with the
graphics card nvidia Quadro ...</p>
                <a class="readmore" href="http://samos-it.com/posts/removedetach-a-pci-device-linux-kvm-vga-passthrgough-nvidia-quadro-2000.html">read more</a>
<p>There are <a href="http://samos-it.com/posts/removedetach-a-pci-device-linux-kvm-vga-passthrgough-nvidia-quadro-2000.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://samos-it.com/posts/install-pyqt-in-a-virtualenv-with-pip.html" rel="bookmark"
                           title="Permalink to Install PyQt in a virtualenv with Pip">Install PyQt in a virtualenv with Pip</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-05-30T15:48:00">
                Published: Thu 30 May 2013
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://samos-it.com/author/sam-stoelinga.html">Sam Stoelinga</a>
        </address>
<p>In <a href="http://samos-it.com/category/python.html">Python</a>. </p>
<p>tags: <a href="http://samos-it.com/tag/python.html">python</a> <a href="http://samos-it.com/tag/pyqt.html">pyqt</a> <a href="http://samos-it.com/tag/pip.html">pip</a> </p>
</footer><!-- /.post-info -->                <p>Noticed that pip install pyqt isn't working? At least at the time of
writing this blog it isn't..</p>
<p>This is the error that I got:<br />
IOError: [Errno 2] No such file or directory: setup.py</p>
<p>It seems they didn't package it well and it's using configure ...</p>
                <a class="readmore" href="http://samos-it.com/posts/install-pyqt-in-a-virtualenv-with-pip.html">read more</a>
<p>There are <a href="http://samos-it.com/posts/install-pyqt-in-a-virtualenv-with-pip.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://samos-it.com/posts/ignoring-every-channels-joinpartquit-messages-in-irssi.html" rel="bookmark"
                           title="Permalink to Ignoring every channels join/part/quit messages in IRSSI">Ignoring every channels join/part/quit messages in IRSSI</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-05-11T02:00:00">
                Published: Sat 11 May 2013
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://samos-it.com/author/sam-stoelinga.html">Sam Stoelinga</a>
        </address>
<p>In <a href="http://samos-it.com/category/linux.html">Linux</a>. </p>
<p>tags: <a href="http://samos-it.com/tag/irssi.html">irssi</a> <a href="http://samos-it.com/tag/linux.html">linux</a> </p>
</footer><!-- /.post-info -->                <p>Tired of all those join part messages?</p>
<div class="highlight"><pre>/ignore <span class="se">\*</span> joins  
/ignore <span class="se">\*</span> parts  
/ignore <span class="se">\*</span> quits  
/save
</pre></div>


<p>Read more about ignore <code>/help ignore</code></p>
<p>Taken from Archwiki:
<a href="https://wiki.archlinux.org/index.php/Irssi">https://wiki.archlinux.org/index.php/Irssi</a></p>
                <a class="readmore" href="http://samos-it.com/posts/ignoring-every-channels-joinpartquit-messages-in-irssi.html">read more</a>
<p>There are <a href="http://samos-it.com/posts/ignoring-every-channels-joinpartquit-messages-in-irssi.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://samos-it.com/posts/create-tar-archive-of-changedadded-files-in-a-git-commit.html" rel="bookmark"
                           title="Permalink to Create tar archive of changed/added files in a git commit">Create tar archive of changed/added files in a git commit</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-05-02T02:12:00">
                Published: Thu 02 May 2013
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://samos-it.com/author/sam-stoelinga.html">Sam Stoelinga</a>
        </address>
<p>In <a href="http://samos-it.com/category/linux.html">Linux</a>. </p>
<p>tags: <a href="http://samos-it.com/tag/git.html">git</a> <a href="http://samos-it.com/tag/linux.html">linux</a> <a href="http://samos-it.com/tag/shell.html">shell</a> <a href="http://samos-it.com/tag/bash.html">bash</a> </p>
</footer><!-- /.post-info -->                <p>The following command first gets the changed and added files of a git
commit and then creates a tar archive of those changed files.</p>
<div class="highlight"><pre>git show <span class="o">{{</span>COMMIT_ID<span class="o">}}</span> --name-status | grep -Ew <span class="s1">&#39;^M|A&#39;</span> | awk <span class="s1">&#39;{ print $2 }&#39;</span> | xargs tar czf usb-passthrough.tar.gz
</pre></div>
                <a class="readmore" href="http://samos-it.com/posts/create-tar-archive-of-changedadded-files-in-a-git-commit.html">read more</a>
<p>There are <a href="http://samos-it.com/posts/create-tar-archive-of-changedadded-files-in-a-git-commit.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://samos-it.com/posts/full-migration-of-archlinux-installation-to-a-new-system.html" rel="bookmark"
                           title="Permalink to Full migration/clone of linux installation to a new system(Without reinstalling)">Full migration/clone of linux installation to a new system(Without reinstalling)</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2012-11-14T13:26:00">
                Published: Wed 14 November 2012
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://samos-it.com/author/sam-stoelinga.html">Sam Stoelinga</a>
        </address>
<p>In <a href="http://samos-it.com/category/linux.html">Linux</a>. </p>
<p>tags: <a href="http://samos-it.com/tag/archlinux.html">archlinux</a> <a href="http://samos-it.com/tag/geek.html">geek</a> <a href="http://samos-it.com/tag/linux.html">linux</a> <a href="http://samos-it.com/tag/migration.html">migration</a> </p>
</footer><!-- /.post-info -->                <p>I'm switching to a new laptop, but don't want to have to install
Archlinux again. So instead of re-installing I will try to copy all
files and hope the system will work. In this blogpost I will describe
the steps and issues I encountered while doing so.</p>
<p><strong>Status ...</strong></p>
                <a class="readmore" href="http://samos-it.com/posts/full-migration-of-archlinux-installation-to-a-new-system.html">read more</a>
<p>There are <a href="http://samos-it.com/posts/full-migration-of-archlinux-installation-to-a-new-system.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
<p class="paginator">
    Page 1 / 3
        <a href="http://samos-it.com/author/sam-stoelinga2.html">&raquo;</a>
</p>
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-20975967-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'samosit';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>