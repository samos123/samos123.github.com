<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Sam Stoelinga (Samos IT) - Blog - Python</title>
        <link rel="stylesheet" href="http://samos-it.com/theme/css/main.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
<a href="http://github.com/samos123/">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href="http://samos-it.com/">Sam Stoelinga (Samos IT) - Blog </a></h1>
                <nav><ul>
                    <li><a href="http://samos-it.com/category/algorithms.html">Algorithms</a></li>
                    <li><a href="http://samos-it.com/category/china.html">China</a></li>
                    <li><a href="http://samos-it.com/category/linux.html">Linux</a></li>
                    <li><a href="http://samos-it.com/category/openstack.html">Openstack</a></li>
                    <li class="active"><a href="http://samos-it.com/category/python.html">Python</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="http://samos-it.com/posts/install-pyqt-in-a-virtualenv-with-pip.html">Install PyQt in a virtualenv with Pip</a></h1>
<footer class="post-info">
        <abbr class="published" title="2013-05-30T15:48:00">
                Published: Thu 30 May 2013
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://samos-it.com/author/sam-stoelinga.html">Sam Stoelinga</a>
        </address>
<p>In <a href="http://samos-it.com/category/python.html">Python</a>. </p>
<p>tags: <a href="http://samos-it.com/tag/python.html">python</a> <a href="http://samos-it.com/tag/pyqt.html">pyqt</a> <a href="http://samos-it.com/tag/pip.html">pip</a> </p>
</footer><!-- /.post-info --><p>Noticed that pip install pyqt isn't working? At least at the time of
writing this blog it isn't..</p>
<p>This is the error that I got:<br />
IOError: [Errno 2] No such file or directory: setup.py</p>
<p>It seems they didn't package it well and it's using configure.py to
install. So here is the solution to install it by using pip to download
the files and configure and install manually.</p>
<p><strong>Solution</strong> copied from: <a href="http://stackoverflow.com/a/13967084/376445">http://stackoverflow.com/a/13967084/376445</a></p>
<div class="highlight"><pre>workon myProject  
pip install --no-install SIP  
pip install --no-install PyQt  
<span class="nb">cd</span> ~/.virtualenvs/myProject/build/SIP  
python configure.py  
make  
make install  
<span class="nb">cd</span> ~/.virtualenvs/myProject/build/PyQt  
python configure.py  
make  
make install  
<span class="nb">cd</span> <span class="o">&amp;&amp;</span> rm -rf ~/.virtualenvs/myProject/build <span class="c"># Optional.</span>
</pre></div>


<p><strong>Issues I encountered</strong>:</p>
<ul>
<li>Missing development headers for qt: <div class="highlight"><pre>~/.virtualenvs/scrapy/build/PyQt# python configure.py --verbose  
Determining the layout of your Qt installation...  
/usr/bin/qmake -o qtdirs.mk qtdirs.pro  
make -f qtdirs.mk 
g++ -c -m64 -pipe -O2 -Wall -W -D_REENTRANT -DQT_NO_DEBUG
-DQT_CORE_LIB -I/usr/share/qt4/mkspecs/linux-g++-64 -I.
-I/usr/includ e/qt4/QtCore -I/usr/include/qt4 -I. -o qtdirs.o qtdirs.cpp  
qtdirs.cpp:1:28: fatal error: QCoreApplication: No such file or directory compilation terminated.  
make: *** <span class="o">[</span>qtdirs.o<span class="o">]</span> Error 1  
Error: Failed to determine the layout of your Qt installation. Try again using  the --verbose flag to see more detail about the problem.
</pre></div>


</li>
</ul>
<p><strong>Soltution:</strong> Install the development headers (Ubuntu 12.04)</p>
<div class="highlight"><pre>sudo apt-get install libqt4-dev
</pre></div><p>There are <a href="http://samos-it.com/posts/install-pyqt-in-a-virtualenv-with-pip.html#disqus_thread">comments</a>.</p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="http://samos-it.com/posts/only-use-worker-when-required-on-heroku-with-djangopython.html" rel="bookmark"
                           title="Permalink to Only use worker when required on heroku with Django/Python">Only use worker when required on heroku with Django/Python</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2012-04-13T09:42:00">
                Published: Fri 13 April 2012
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://samos-it.com/author/sam-stoelinga.html">Sam Stoelinga</a>
        </address>
<p>In <a href="http://samos-it.com/category/python.html">Python</a>. </p>
<p>tags: <a href="http://samos-it.com/tag/coding.html">coding</a> <a href="http://samos-it.com/tag/python.html">python</a> <a href="http://samos-it.com/tag/django.html">django</a> <a href="http://samos-it.com/tag/heroku.html">heroku</a> </p>
</footer><!-- /.post-info -->                <p>For a mobile project I required a background worker which sents an email
with 300 generated QR codes zipped together as attachment. This costs
quite some time so we need a background worker to execute this task.</p>
<p>I wanted to achieve the following result:</p>
<ul>
<li>When the user wants to generate ...</li></ul>
                <a class="readmore" href="http://samos-it.com/posts/only-use-worker-when-required-on-heroku-with-djangopython.html">read more</a>
<p>There are <a href="http://samos-it.com/posts/only-use-worker-when-required-on-heroku-with-djangopython.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://samos-it.com/posts/using-sendgrid-with-django-on-heroku-how-to-find-your-sendgrid-password-on-heroku.html" rel="bookmark"
                           title="Permalink to Using Sendgrid with Django on Heroku (How to find your Sendgrid password on Heroku)">Using Sendgrid with Django on Heroku (How to find your Sendgrid password on Heroku)</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2012-04-11T09:43:00">
                Published: Wed 11 April 2012
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://samos-it.com/author/sam-stoelinga.html">Sam Stoelinga</a>
        </address>
<p>In <a href="http://samos-it.com/category/python.html">Python</a>. </p>

</footer><!-- /.post-info -->                <p>While setting up sentgrid I was searching for my password of sendgrid,
but coudn't find it. You can get it in the following way:</p>
<div class="highlight"><pre>heroku config --long
</pre></div>


<p>Which will show the parameters:<br />
SENDGRID_PASSWORD, SENDGRID_USERNAME</p>
<p>After you get your username don't forget to add it to django settings:  </p>
<div class="highlight"><pre><span class="n">EMAIL ...</span></pre></div>
                <a class="readmore" href="http://samos-it.com/posts/using-sendgrid-with-django-on-heroku-how-to-find-your-sendgrid-password-on-heroku.html">read more</a>
<p>There are <a href="http://samos-it.com/posts/using-sendgrid-with-django-on-heroku-how-to-find-your-sendgrid-password-on-heroku.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://samos-it.com/posts/django-custom-view-decorator-with-arguments.html" rel="bookmark"
                           title="Permalink to Django Custom View Decorator with Arguments">Django Custom View Decorator with Arguments</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2012-02-23T17:52:00">
                Published: Thu 23 February 2012
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://samos-it.com/author/sam-stoelinga.html">Sam Stoelinga</a>
        </address>
<p>In <a href="http://samos-it.com/category/python.html">Python</a>. </p>
<p>tags: <a href="http://samos-it.com/tag/django.html">django</a> <a href="http://samos-it.com/tag/python.html">python</a> <a href="http://samos-it.com/tag/coding.html">coding</a> <a href="http://samos-it.com/tag/decorators.html">decorators</a> </p>
</footer><!-- /.post-info -->                <p>To make my life easier I made a simple decorator which checks if the
parameters are present in the request.POST or request.GET and returns a
response if they are not.</p>
<p>It accepts a list of parameters in string format and will loop through
each parameter to check if ...</p>
                <a class="readmore" href="http://samos-it.com/posts/django-custom-view-decorator-with-arguments.html">read more</a>
<p>There are <a href="http://samos-it.com/posts/django-custom-view-decorator-with-arguments.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://samos-it.com/posts/simple-function-to-return-json-in-django.html" rel="bookmark"
                           title="Permalink to Simple function to return json in Django">Simple function to return json in Django</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2012-02-22T15:53:00">
                Published: Wed 22 February 2012
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://samos-it.com/author/sam-stoelinga.html">Sam Stoelinga</a>
        </address>
<p>In <a href="http://samos-it.com/category/python.html">Python</a>. </p>
<p>tags: <a href="http://samos-it.com/tag/python.html">python</a> <a href="http://samos-it.com/tag/django.html">django</a> <a href="http://samos-it.com/tag/json.html">json</a> </p>
</footer><!-- /.post-info -->                <p>Just a small code snippet I use when I need to return json, comments are
welcomed.</p>
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span>  
<span class="kn">from</span> <span class="nn">django.utils</span> <span class="kn">import</span> <span class="n">simplejson</span> <span class="k">as</span> <span class="n">json</span>

<span class="k">def</span> <span class="nf">json_response</span><span class="p">(</span><span class="n">dict_to_convert_to_json</span><span class="p">):</span>  
    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">dict_to_convert_to_json</span><span class="p">),</span>
                        <span class="n">mimetype</span><span class="o">=</span><span class="s">&quot;application/json&quot;</span><span class="p">)</span>
</pre></div>


<p>To use it in your view you just do it this ...</p>
                <a class="readmore" href="http://samos-it.com/posts/simple-function-to-return-json-in-django.html">read more</a>
<p>There are <a href="http://samos-it.com/posts/simple-function-to-return-json-in-django.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://samos-it.com/posts/trying-to-install-scrapy-with-pip-lxml-error-command-gcc-failed-with-exit-status-1.html" rel="bookmark"
                           title="Permalink to Trying to install scrapy with pip lxml error: command 'gcc' failed with exit status 1">Trying to install scrapy with pip lxml error: command 'gcc' failed with exit status 1</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2011-11-01T14:31:00">
                Published: Tue 01 November 2011
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://samos-it.com/author/sam-stoelinga.html">Sam Stoelinga</a>
        </address>
<p>In <a href="http://samos-it.com/category/python.html">Python</a>. </p>
<p>tags: <a href="http://samos-it.com/tag/python.html">python</a> <a href="http://samos-it.com/tag/linux.html">linux</a> <a href="http://samos-it.com/tag/ubuntu.html">ubuntu</a> </p>
</footer><!-- /.post-info -->                <p>Just tried to install scrapy with pip / easy_install, but when it comes
to installing lxml it will give the following error:</p>
<p>gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2
-Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c
src/lxml/lxml.etree.c -o
build/temp.linux-x86_64-2.7/src/lxml/lxml ...</p>
                <a class="readmore" href="http://samos-it.com/posts/trying-to-install-scrapy-with-pip-lxml-error-command-gcc-failed-with-exit-status-1.html">read more</a>
<p>There are <a href="http://samos-it.com/posts/trying-to-install-scrapy-with-pip-lxml-error-command-gcc-failed-with-exit-status-1.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://samos-it.com/posts/how-to-install-setuptools-to-a-specific-python-version.html" rel="bookmark"
                           title="Permalink to How to install Setuptools to a specific python version">How to install Setuptools to a specific python version</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2011-07-18T19:34:00">
                Published: Mon 18 July 2011
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://samos-it.com/author/sam-stoelinga.html">Sam Stoelinga</a>
        </address>
<p>In <a href="http://samos-it.com/category/python.html">Python</a>. </p>
<p>tags: <a href="http://samos-it.com/tag/python.html">python</a> <a href="http://samos-it.com/tag/ubuntu.html">ubuntu</a> <a href="http://samos-it.com/tag/linux.html">linux</a> </p>
</footer><!-- /.post-info -->                <p>To install easy_install for a specific python version. I just installed
from source and used the python version you want to install setuptools
too. I used the following steps in Ubuntu 11.04 with Python 2.5 and
Python 2.7 installed. The following commands will install setuptools to
python ...</p>
                <a class="readmore" href="http://samos-it.com/posts/how-to-install-setuptools-to-a-specific-python-version.html">read more</a>
<p>There are <a href="http://samos-it.com/posts/how-to-install-setuptools-to-a-specific-python-version.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
<p class="paginator">
    Page 1 / 1
</p>
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-20975967-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'samosit';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>