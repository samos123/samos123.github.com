<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>SSH to server behind a firewall via an SSH tunnel</title>
        <link rel="stylesheet" href="http://samos123.github.io/theme/css/main.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
<a href="http://github.com/samos123/">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href="http://samos123.github.io/">Sam Stoelinga (Samos IT) - Blog </a></h1>
                <nav><ul>
                    <li><a href="http://samos123.github.io/category/algorithms.html">Algorithms</a></li>
                    <li><a href="http://samos123.github.io/category/china.html">China</a></li>
                    <li class="active"><a href="http://samos123.github.io/category/linux.html">Linux</a></li>
                    <li><a href="http://samos123.github.io/category/python.html">Python</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="http://samos123.github.io/posts/ssh-to-server-behind-firewall-via-ssh-tunnel.html" rel="bookmark"
           title="Permalink to SSH to server behind a firewall via an SSH tunnel">SSH to server behind a firewall via an SSH tunnel</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-05-10T00:00:00">
                Published: Sat 10 May 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://samos123.github.io/author/sam-stoelinga.html">Sam Stoelinga</a>
        </address>
<p>In <a href="http://samos123.github.io/category/linux.html">Linux</a>. </p>
<p>tags: <a href="http://samos123.github.io/tag/linux.html">linux</a> <a href="http://samos123.github.io/tag/ssh.html">ssh</a> <a href="http://samos123.github.io/tag/firewall.html">firewall</a> <a href="http://samos123.github.io/tag/tunnel.html">tunnel</a> </p>
</footer><!-- /.post-info -->      <p>A server behind a firewall was unaccesible from my home,
but another server which is on the same local network had
public SSH access from my home. So we can create an SSH tunnel
via this public server to the server behind a firewall.</p>
<p>For example the public ssh server is 8.8.8.8 and the
server on the private network that we want to access is 192.168.1.5. Then we
can create an SSH tunnel from my laptop at home in the
following way:</p>
<div class="highlight"><pre>ssh root@8.8.8.8 -L 2020:192.168.1.5:22
</pre></div>


<p>The above command creates an SSH tunnel, where the
local port 2020 on my laptop will be forwarded to port
22 of the private server behind the firewall.</p>
<p>After the tunnel is created  you can use the following command
to directly SSH from your home laptop to the private server
with ip 192.168.1.5:</p>
<div class="highlight"><pre>ssh ubuntu@localhost -p 2020
</pre></div>
    </div><!-- /.entry-content -->
    <div class="comments">
      <h2>Comments !</h2>
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        var disqus_shortname = 'samosit';
        var disqus_identifier = 'posts/ssh-to-server-behind-firewall-via-ssh-tunnel.html';
        var disqus_url = 'http://samos123.github.io/posts/ssh-to-server-behind-firewall-via-ssh-tunnel.html';
        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//samosit.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Please enable JavaScript to view the comments.</noscript>
    </div>

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'samosit';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>