<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#">
	<head>
		<link href="http://gmpg.org/xfn/11" rel="profile">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta http-equiv="content-type" content="text/html; charset=utf-8">

		<!-- Metadata -->
			<meta name="description" content="Open source contributor and Cloud Architect. Creator of websu.io and bgdestroyer.com" />
			<meta property="og:description" content="Open source contributor and Cloud Architect. Creator of websu.io and bgdestroyer.com" />
			<meta property="og:title" content="Sam Stoelinga" />
			<meta property="og:type" content="website" />
			<meta property="og:url" content="https://samos-it.com" />
		<meta property="og:image" content="https://samos-it.com/images/sam-profile-pic.jpg" />

		<!-- Enable responsiveness on mobile devices-->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

		<title>Sam Stoelinga - k8s tag</title>

		<!-- CSS -->
		<link href="//fonts.googleapis.com/" rel="dns-prefetch">
		<link href="//fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic|Abril+Fatface|PT+Sans:400,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet">

		<link rel="stylesheet" href="https://samos-it.com/theme/css/poole.css" />
		<link rel="stylesheet" href="https://samos-it.com/theme/css/hyde.css" />
		<link rel="stylesheet" href="https://samos-it.com/theme/css/syntax.css" />
			<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.1.7/css/fork-awesome.min.css" crossorigin="anonymous">

		<!-- Feeds -->
<link href="https://samos-it.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Sam Stoelinga Full Atom Feed" />

		<!-- Analytics -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ND4ZWELC3Z"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ND4ZWELC3Z');
</script>
	</head>

	<body class="theme-base-0d">
<div class="sidebar">
	<div class="container sidebar-sticky">
		<div class="sidebar-about">

			<h1>
				<a href="/">
					<img class="profile-picture" src="https://samos-it.com/images/sam-profile-pic.jpg">
					Sam Stoelinga
				</a>
			</h1>
			<p class="lead"></p>
			<p class="lead">Open source contributor and Cloud Architect. Creator of websu.io and bgdestroyer.com </p>
			<p></p>
		</div>
			<ul class="sidebar-nav">
					<li><a href="https://samos-it.com/pages/about.html">About Me</a></li>
					<li><a href="https://samos-it.com/pages/privacy-policy.html">Privacy Policy</a></li>
			</ul>
		<nav class="sidebar-social">
					<a class="sidebar-social-item" href="https://www.linkedin.com/in/samstoelinga/" target="_blank">
						<i class="fa fa-linkedin"></i>
					</a>
					<a class="sidebar-social-item" href="http://github.com/samos123/" target="_blank">
						<i class="fa fa-github"></i>
					</a>
			<a class="sidebar-social-item" href="https://samos-it.com/feeds/all.atom.xml">
				<i class="fa fa-rss"></i>
			</a>
		</nav>
	</div>
</div>		<div class="content container">
	<div class="posts">
			<div class="post">
				<h1 class="post-title" href="https://samos-it.com/posts/deploying-stable-diffusion-gke-autopilot.html">
					<a href="https://samos-it.com/posts/deploying-stable-diffusion-gke-autopilot.html">Deploying Stable Diffusion Web UI on GKE Autopilot</a>
				</h1>
				<span class="post-date">Tue 30 May 2023</span>
				<p>
					<p>Deploying Stable Diffusion WebUI on K8s can be challenging, but no more.
Learn how to do it by:</p>
<ol>
<li>Creating a GKE autopilot cluster</li>
<li>Deploying AUTOMATIC1111 Stable Diffusion Web UI</li>
<li>Accessing the UI through port forwarding</li>
</ol>
<p>Not up for a challenge? Maybe deploying <a href="https://samos-it.com/posts/deploying-stable-diffusion-web-ui-with-docker-on-gce-t4-vm.html">Stable Diffusion on a GCE VM</a>
is easier …</p>
				</p>
				<a class="read-more" href="posts/deploying-stable-diffusion-gke-autopilot.html">Continue reading »</a>
			</div>
			<div class="post">
				<h1 class="post-title" href="https://samos-it.com/posts/GKE-nodepool-add-label-without-overwriting-existing-labels.html">
					<a href="https://samos-it.com/posts/GKE-nodepool-add-label-without-overwriting-existing-labels.html">GKE Nodepool Add Labels Without overwriting existing labels</a>
				</h1>
				<span class="post-date">Fri 07 April 2023</span>
				<p>
					<p>GKE has a feature to add node labels to all nodes in the nodepool. GKE will add the label
to both the nodes already running in the cluster and also to newly added nodes.</p>
<p>You can use the feature like this:</p>
<div class="highlight"><pre><span></span><code>gcloud<span class="w"> </span>container<span class="w"> </span>node-pools<span class="w"> </span>update<span class="w"> </span>my-node-pool<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--cluster<span class="w"> </span>my-cluster<span class="w"> </span>--labels<span class="w"> </span><span class="nv">sam …</span></code></pre></div>
				</p>
				<a class="read-more" href="posts/GKE-nodepool-add-label-without-overwriting-existing-labels.html">Continue reading »</a>
			</div>
			<div class="post">
				<h1 class="post-title" href="https://samos-it.com/posts/gke-list-tainted-nodepools-with-a-specific-taint.html">
					<a href="https://samos-it.com/posts/gke-list-tainted-nodepools-with-a-specific-taint.html">GKE list tainted nodepools with a specific taint</a>
				</h1>
				<span class="post-date">Thu 09 March 2023</span>
				<p>
					<p>A use case for upgrades involved being able to list all the node pools
that have scaled down back to 0 and have a specific taint. This blog post
shows the commands you can use to get this information.</p>
<p>List the GKE nodepools that have been tainted with key=upgrade …</p>
				</p>
				<a class="read-more" href="posts/gke-list-tainted-nodepools-with-a-specific-taint.html">Continue reading »</a>
			</div>
			<div class="post">
				<h1 class="post-title" href="https://samos-it.com/posts/3-tips-gke-ml-batch-workloads.html">
					<a href="https://samos-it.com/posts/3-tips-gke-ml-batch-workloads.html">3 tips for GKE ML/batch workloads</a>
				</h1>
				<span class="post-date">Sun 05 March 2023</span>
				<p>
					<p>There has been an influx of large batch and ML training workloads on GKE. I've personally
had the please of working with one of those workloads. The things that
batch and ML workload often require from GKE are the following:</p>
<ul>
<li>Minimize pod disruptions since pods often can't simply be restarted …</li></ul>
				</p>
				<a class="read-more" href="posts/3-tips-gke-ml-batch-workloads.html">Continue reading »</a>
			</div>
			<div class="post">
				<h1 class="post-title" href="https://samos-it.com/posts/gke-safe-nodepool-drain.html">
					<a href="https://samos-it.com/posts/gke-safe-nodepool-drain.html">GKE Safely Drain a Nodepool without pod disruptions</a>
				</h1>
				<span class="post-date">Sat 04 March 2023</span>
				<p>
					<p>GKE/K8s wasn't originally designed for workloads that spin up single pods
and want those pods to stay up and running on the same node
for very time. That doesn't mean those kind of workloads
aren't running on GKE. In fact, there are large GKE ML/batch platform workloads
running …</p>
				</p>
				<a class="read-more" href="posts/gke-safe-nodepool-drain.html">Continue reading »</a>
			</div>
			<div class="post">
				<h1 class="post-title" href="https://samos-it.com/posts/Preventing-Privileged-pods-using-Pod-Security-Admission-Standards.html">
					<a href="https://samos-it.com/posts/Preventing-Privileged-pods-using-Pod-Security-Admission-Standards.html">Preventing Privileged pods using Pod Security Admission / Standards</a>
				</h1>
				<span class="post-date">Sat 14 January 2023</span>
				<p>
					<iframe width="560" height="315" src="https://www.youtube.com/embed/D4Tw1blsQog" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

<p>In a Kubernetes cluster, a privileged pod is a pod that has been given
extended permissions beyond the default set of permissions. These extended
permissions can include the ability to access the host's network, devices,
and other sensitive resources. While privileged pods can be useful in
certain situations, they also …</p>
				</p>
				<a class="read-more" href="posts/Preventing-Privileged-pods-using-Pod-Security-Admission-Standards.html">Continue reading »</a>
			</div>
			<div class="post">
				<h1 class="post-title" href="https://samos-it.com/posts/trying-cel-admission-control-validation-admission-policy.html">
					<a href="https://samos-it.com/posts/trying-cel-admission-control-validation-admission-policy.html">Trying ValidationAdmissionPolicy aka CEL Admission in K8s 1.26</a>
				</h1>
				<span class="post-date">Wed 14 December 2022</span>
				<p>
					<iframe width="560" height="315" src="https://www.youtube.com/embed/OaXgy6BmV-k" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>CEL for admission control is a new 1.26 feature. With the feature, define
ValidationAdmissionPolicy to express your desired policy
and ValidationAdmissionPolicyBinding to assign the policy to e.g. a namespace.</p>
<p>This post has the following sections:</p>
<ol>
<li>Creating a 1.26 cluster with ValidationAdmissionPolicy / CEL Admission enabled</li>
<li>Configure the policies …</li></ol>
				</p>
				<a class="read-more" href="posts/trying-cel-admission-control-validation-admission-policy.html">Continue reading »</a>
			</div>
			<div class="post">
				<h1 class="post-title" href="https://samos-it.com/posts/deploying-k8s-on-laptop-with-minikube.html">
					<a href="https://samos-it.com/posts/deploying-k8s-on-laptop-with-minikube.html">Deploying K8s on your laptop with minikube</a>
				</h1>
				<span class="post-date">Fri 09 December 2022</span>
				<p>
					<iframe width="560" height="315" src="https://www.youtube.com/embed/AJVoHzb9KeQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>K8s on your laptop is helpful for initial development and testing environment. Minikube
makes it easy to get K8s deployed on your laptop. Let's get K8s installed by doing
the following:</p>
<ol>
<li>Installing required tools: docker, minikube and kubectl</li>
<li>Deploying the minikube cluster with minikube start</li>
<li>Verifying you can deploy an …</li></ol>
				</p>
				<a class="read-more" href="posts/deploying-k8s-on-laptop-with-minikube.html">Continue reading »</a>
			</div>
			<div class="post">
				<h1 class="post-title" href="https://samos-it.com/posts/gke-gpu-timesharing-resource-quotas.html">
					<a href="https://samos-it.com/posts/gke-gpu-timesharing-resource-quotas.html">GKE GPU timesharing and resource quotas experiment</a>
				</h1>
				<span class="post-date">Fri 26 August 2022</span>
				<p>
					<p>You only got a few GPUs and want to pretend to your end-users that you got
many? Then GKE GPU timesharing might just be the feature for you to save
costs on GPUs that are underutilized. In this
blog post you will learn:</p>
<ol>
<li>Creating a GKE nodepool with timesharing enabled …</li></ol>
				</p>
				<a class="read-more" href="posts/gke-gpu-timesharing-resource-quotas.html">Continue reading »</a>
			</div>
			<div class="post">
				<h1 class="post-title" href="https://samos-it.com/posts/gke-system-services-kube-dns-dedicated-nodepool.html">
					<a href="https://samos-it.com/posts/gke-system-services-kube-dns-dedicated-nodepool.html">GKE move system services (kube-dns, calico) to dedicated nodepool</a>
				</h1>
				<span class="post-date">Mon 11 October 2021</span>
				<p>
					<p>GKE by default deploys kube-dns and other system services to any of your
nodepools. This is probably fine for most cases, but certain use cases
might require preventing system services from running on the same nodes as
your where your applications are running. This blog post provides instructions
on how …</p>
				</p>
				<a class="read-more" href="posts/gke-system-services-kube-dns-dedicated-nodepool.html">Continue reading »</a>
			</div>
	</div>
	<div class="pagination">

		<span class="pagination-item older">Newer</span>

		<span class="pagination-item newer"><a href="https://samos-it.com/tag/k8s2.html">Older</a></span>
	</div>
		</div>
	</body>
</html>